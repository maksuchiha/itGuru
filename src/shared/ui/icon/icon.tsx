import cn from 'clsx'
import { memo, type FC, type SVGProps } from 'react'

import styles from './icon.module.scss'

const ICONS = {
	search: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M11 3a8 8 0 0 1 6.32 12.9l3.4 3.4-1.42 1.4-3.4-3.38A8 8 0 1 1 11 3m0 2a6 6 0 1 0 0 12 6 6 0 0 0 0-12'
				fill='currentColor'
			/>
		)
	},
	refresh: {
		viewBox: '0 0 17 17',
		path: (
			<path
				d='M14.2373 13.2662C14.3656 13.395 14.4376 13.5695 14.4376 13.7513C14.4376 13.9331 14.3656 14.1076 14.2373 14.2364C14.1436 14.3284 11.9298 16.5 8.25 16.5C5.0368 16.5 2.70445 14.575 1.375 13.0754V15.125C1.375 15.3073 1.30257 15.4822 1.17364 15.6111C1.0447 15.7401 0.869836 15.8125 0.6875 15.8125C0.505164 15.8125 0.330295 15.7401 0.201364 15.6111C0.072433 15.4822 0 15.3073 0 15.125V11C0 10.8177 0.072433 10.6428 0.201364 10.5139C0.330295 10.3849 0.505164 10.3125 0.6875 10.3125H4.8125C4.99484 10.3125 5.1697 10.3849 5.29864 10.5139C5.42757 10.6428 5.5 10.8177 5.5 11C5.5 11.1823 5.42757 11.3572 5.29864 11.4861C5.1697 11.6151 4.99484 11.6875 4.8125 11.6875H2.01437C3.07312 13.0066 5.24219 15.125 8.25 15.125C11.3438 15.125 13.2464 13.2808 13.2653 13.2619C13.3948 13.1336 13.5699 13.062 13.7522 13.0628C13.9344 13.0636 14.1089 13.1368 14.2373 13.2662ZM15.8125 0.6875C15.6302 0.6875 15.4553 0.759933 15.3264 0.888864C15.1974 1.0178 15.125 1.19266 15.125 1.375V3.42461C13.7955 1.925 11.4632 0 8.25 0C4.57016 0 2.35641 2.17164 2.26359 2.26359C2.13436 2.39237 2.06158 2.56721 2.06126 2.74964C2.06094 2.93208 2.1331 3.10718 2.26187 3.23641C2.39065 3.36564 2.56549 3.43842 2.74793 3.43874C2.93036 3.43906 3.10546 3.3669 3.23469 3.23813C3.25359 3.21922 5.15625 1.375 8.25 1.375C11.2578 1.375 13.4269 3.49336 14.4856 4.8125H11.6875C11.5052 4.8125 11.3303 4.88493 11.2014 5.01386C11.0724 5.1428 11 5.31766 11 5.5C11 5.68234 11.0724 5.8572 11.2014 5.98614C11.3303 6.11507 11.5052 6.1875 11.6875 6.1875H15.8125C15.9948 6.1875 16.1697 6.11507 16.2986 5.98614C16.4276 5.8572 16.5 5.68234 16.5 5.5V1.375C16.5 1.19266 16.4276 1.0178 16.2986 0.888864C16.1697 0.759933 15.9948 0.6875 15.8125 0.6875Z'
				fill='currentColor'
			/>
		)
	},
	plus: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M11 5h2v14h-2zM5 11h14v2H5z'
				fill='currentColor'
			/>
		)
	},
	'plus-wide': {
		viewBox: '0 0 18 18',
		path: (
			<path
				d='M8.9375 0C7.16983 0 5.44186 0.524175 3.97209 1.50624C2.50233 2.48831 1.35679 3.88415 0.680331 5.51727C0.00387248 7.15038 -0.17312 8.94741 0.171736 10.6811C0.516591 12.4148 1.36781 14.0073 2.61774 15.2573C3.86767 16.5072 5.46018 17.3584 7.19388 17.7033C8.92759 18.0481 10.7246 17.8711 12.3577 17.1947C13.9909 16.5182 15.3867 15.3727 16.3688 13.9029C17.3508 12.4331 17.875 10.7052 17.875 8.9375C17.8725 6.5679 16.9301 4.29606 15.2545 2.6205C13.5789 0.944933 11.3071 0.00250234 8.9375 0ZM8.9375 16.5C7.44178 16.5 5.97965 16.0565 4.736 15.2255C3.49236 14.3945 2.52305 13.2134 1.95066 11.8315C1.37828 10.4497 1.22851 8.92911 1.52032 7.46213C1.81212 5.99515 2.53237 4.64764 3.59001 3.59001C4.64764 2.53237 5.99515 1.81211 7.46213 1.52031C8.92911 1.22851 10.4497 1.37827 11.8315 1.95066C13.2134 2.52305 14.3945 3.49235 15.2255 4.736C16.0565 5.97965 16.5 7.44178 16.5 8.9375C16.4977 10.9425 15.7002 12.8647 14.2825 14.2825C12.8647 15.7002 10.9425 16.4977 8.9375 16.5ZM13.0625 8.9375C13.0625 9.11984 12.9901 9.29471 12.8611 9.42364C12.7322 9.55257 12.5573 9.625 12.375 9.625H9.625V12.375C9.625 12.5573 9.55257 12.7322 9.42364 12.8611C9.29471 12.9901 9.11984 13.0625 8.9375 13.0625C8.75517 13.0625 8.5803 12.9901 8.45137 12.8611C8.32244 12.7322 8.25 12.5573 8.25 12.375V9.625H5.5C5.31767 9.625 5.1428 9.55257 5.01387 9.42364C4.88494 9.29471 4.8125 9.11984 4.8125 8.9375C4.8125 8.75516 4.88494 8.5803 5.01387 8.45136C5.1428 8.32243 5.31767 8.25 5.5 8.25H8.25V5.5C8.25 5.31766 8.32244 5.1428 8.45137 5.01386C8.5803 4.88493 8.75517 4.8125 8.9375 4.8125C9.11984 4.8125 9.29471 4.88493 9.42364 5.01386C9.55257 5.1428 9.625 5.31766 9.625 5.5V8.25H12.375C12.5573 8.25 12.7322 8.32243 12.8611 8.45136C12.9901 8.5803 13.0625 8.75516 13.0625 8.9375Z'
				fill='white'
			/>
		)
	},
	more: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M7 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0m7 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m7 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0'
				fill='currentColor'
			/>
		)
	},
	user: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4m0 2c-4.42 0-8 2-8 4.5V20h16v-1.5c0-2.5-3.58-4.5-8-4.5'
				fill='currentColor'
			/>
		)
	},
	close: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M7.3 6.3 12 11l4.7-4.7 1.4 1.4L13.4 12l4.7 4.7-1.4 1.4L12 13.4l-4.7 4.7-1.4-1.4L10.6 12 5.9 7.3z'
				fill='currentColor'
			/>
		)
	},
	lock: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M17 9V7a5 5 0 0 0-10 0v2H5v12h14V9zm-8-2a3 3 0 0 1 6 0v2H9z'
				fill='currentColor'
			/>
		)
	},
	eye: {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M12 5c5.05 0 9.27 3.11 11 7-1.73 3.89-5.95 7-11 7S2.73 15.89 1 12c1.73-3.89 5.95-7 11-7m0 3.5A3.5 3.5 0 1 0 15.5 12 3.5 3.5 0 0 0 12 8.5m0 2a1.5 1.5 0 1 1-1.5 1.5A1.5 1.5 0 0 1 12 10.5'
				fill='currentColor'
			/>
		)
	},
	'eye-off': {
		viewBox: '0 0 24 24',
		path: (
			<path
				d='M2 5.3 3.3 4l16.7 16.7-1.3 1.3-3.2-3.2a10.9 10.9 0 0 1-3.5.6c-5.05 0-9.27-3.11-11-7a11.7 11.7 0 0 1 3.1-4.3L2 5.3m6.8 6.8a2.2 2.2 0 0 0 3.1 3.1l-3.1-3.1m1.1-6.1a10.7 10.7 0 0 1 2.1-.2c5.05 0 9.27 3.11 11 7a11.8 11.8 0 0 1-2.6 3.6l-2.7-2.7a3.5 3.5 0 0 0-4.6-4.6l-3.2-3.1'
				fill='currentColor'
			/>
		)
	},
	logo: {
		viewBox: '0 0 35 34',
		path: (
			<>
				<path
					d='M4.62002 22.5692C4.92543 22.5692 5.17302 20.0758 5.17302 17C5.17302 13.9242 4.92543 11.4308 4.62002 11.4308C4.3146 11.4308 4.06702 13.9242 4.06702 17C4.06702 20.0758 4.3146 22.5692 4.62002 22.5692Z'
					fill='black'
				/>
				<path
					d='M6.09 23.188C6.43021 23.188 6.706 20.4176 6.706 17C6.706 13.5825 6.43021 10.812 6.09 10.812C5.74979 10.812 5.474 13.5825 5.474 17C5.474 20.4176 5.74979 23.188 6.09 23.188Z'
					fill='black'
				/>
				<path
					d='M7.72801 23.8816C8.103 23.8816 8.40701 20.8006 8.40701 17C8.40701 13.1994 8.103 10.1184 7.72801 10.1184C7.35302 10.1184 7.04901 13.1994 7.04901 17C7.04901 20.8006 7.35302 23.8816 7.72801 23.8816Z'
					fill='black'
				/>
				<path
					d='M9.54097 24.6432C9.95852 24.6432 10.297 21.2212 10.297 17C10.297 12.7788 9.95852 9.35681 9.54097 9.35681C9.12342 9.35681 8.78497 12.7788 8.78497 17C8.78497 21.2212 9.12342 24.6432 9.54097 24.6432Z'
					fill='black'
				/>
				<path
					d='M11.557 25.4932C12.0209 25.4932 12.397 21.6906 12.397 17C12.397 12.3094 12.0209 8.50681 11.557 8.50681C11.0931 8.50681 10.717 12.3094 10.717 17C10.717 21.6906 11.0931 25.4932 11.557 25.4932Z'
					fill='black'
				/>
				<path
					d='M13.804 26.4384C14.3181 26.4384 14.735 22.2127 14.735 17C14.735 11.7873 14.3181 7.56158 13.804 7.56158C13.2898 7.56158 12.873 11.7873 12.873 17C12.873 22.2127 13.2898 26.4384 13.804 26.4384Z'
					fill='black'
				/>
				<path
					d='M16.296 27.4856C16.8682 27.4856 17.332 22.791 17.332 17C17.332 11.209 16.8682 6.5144 16.296 6.5144C15.7238 6.5144 15.26 11.209 15.26 17C15.26 22.791 15.7238 27.4856 16.296 27.4856Z'
					fill='black'
				/>
				<path
					d='M19.061 28.6484C19.6989 28.6484 20.216 23.4332 20.216 17C20.216 10.5668 19.6989 5.35159 19.061 5.35159C18.4231 5.35159 17.906 10.5668 17.906 17C17.906 23.4332 18.4231 28.6484 19.061 28.6484Z'
					fill='black'
				/>
				<path
					d='M22.134 29.9472C22.8415 29.9472 23.415 24.1505 23.415 17C23.415 9.84946 22.8415 4.0528 22.134 4.0528C21.4265 4.0528 20.853 9.84946 20.853 17C20.853 24.1505 21.4265 29.9472 22.134 29.9472Z'
					fill='black'
				/>
				<path
					d='M25.55 31.382C26.3348 31.382 26.971 24.943 26.971 17C26.971 9.05707 26.3348 2.61801 25.55 2.61801C24.7653 2.61801 24.129 9.05707 24.129 17C24.129 24.943 24.7653 31.382 25.55 31.382Z'
					fill='black'
				/>
				<path
					d='M29.344 32.98C30.2178 32.98 30.926 25.8255 30.926 17C30.926 8.17447 30.2178 1.01999 29.344 1.01999C28.4703 1.01999 27.762 8.17447 27.762 17C27.762 25.8255 28.4703 32.98 29.344 32.98Z'
					fill='black'
				/>
			</>
		)
	}
} as const

export type IconName = keyof typeof ICONS

type IconProps = Omit<SVGProps<SVGSVGElement>, 'children'> & {
	name: IconName
	size?: number
	title?: string
}

const IconComponent: FC<IconProps> = ({
	name,
	size,
	title,
	className,
	width,
	height,
	...props
}) => {
	const icon = ICONS[name]
	const hasLabel = Boolean(title || props['aria-label'] || props['aria-labelledby'])
	const resolvedWidth = size ?? width
	const resolvedHeight = size ?? height

	return (
		<svg
			viewBox={icon.viewBox}
			width={resolvedWidth}
			height={resolvedHeight}
			className={cn(styles.icon, className)}
			role={hasLabel ? 'img' : 'presentation'}
			aria-hidden={hasLabel ? undefined : true}
			focusable='false'
			{...props}
		>
			{title ? <title>{title}</title> : null}
			{icon.path}
		</svg>
	)
}

export const Icon = memo(IconComponent)
